<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Index` struct in crate `ejdb`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Index">

    <title>ejdb::Index - Rust</title>

    <link rel="stylesheet" type="text/css" href="../rustdoc.css">
    <link rel="stylesheet" type="text/css" href="../main.css">
    

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        
        <p class='location'><a href='index.html'>ejdb</a></p><script>window.sidebarCurrent = {name: 'Index', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </nav>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='index.html'>ejdb</a>::<wbr><a class='struct' href=''>Index</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a id='src-47' class='srclink' href='../src/ejdb/src/database/indices.rs.html#71-75' title='goto source code'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Index&lt;'coll,&nbsp;'db: 'coll&gt; {
    // some fields omitted
}</pre><div class='docblock'><p>A builder for an operation on an index of a certain field of an EJDB collection.</p>

<p>In EJDB every collection can have an index on the fields of its records. Indices can be
of one of three types:</p>

<ul>
<li>string (possibly case insensitive);</li>
<li>number;</li>
<li>array.</li>
</ul>

<p>Indices can be set, dropped, optimized or rebuilt. Indices are stored in a separate file
from their collections and can speed up certain access patterns in queries. Naturally,
indices are specified for some field in collection records, so this structure is used to
configure indices for one specific field.</p>

<p>Index manipulation is done with this structure which provides builder-like interface
to create, change properties or drop an index on one field. Since an index can&#39;t exist
separately from a collection, this structure is linked via a lifetime to its corresponding
collection object. An instance of this structure is obtained with <code>Collection::index()</code> method.</p>

<h1 id='example' class='section-header'><a href='#example'>Example</a></h1>
<pre class='rust rust-example-rendered'>
<span class='kw'>let</span> <span class='ident'>db</span> <span class='op'>=</span> <span class='ident'>Database</span>::<span class='ident'>open</span>(<span class='string'>&quot;/path/to/db&quot;</span>).<span class='ident'>unwrap</span>();
<span class='kw'>let</span> <span class='ident'>coll</span> <span class='op'>=</span> <span class='ident'>db</span>.<span class='ident'>collection</span>(<span class='string'>&quot;some_collection&quot;</span>).<span class='ident'>unwrap</span>();

<span class='comment'>// create a string index on `name` field</span>
<span class='ident'>coll</span>.<span class='ident'>index</span>(<span class='string'>&quot;name&quot;</span>).<span class='ident'>string</span>(<span class='bool-val'>true</span>).<span class='ident'>set</span>().<span class='ident'>unwrap</span>();

<span class='comment'>// create multiple indices on `coords` field</span>
<span class='ident'>coll</span>.<span class='ident'>index</span>(<span class='string'>&quot;coords&quot;</span>).<span class='ident'>number</span>().<span class='ident'>array</span>().<span class='ident'>set</span>().<span class='ident'>unwrap</span>();</pre>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><span class='in-band'><code>impl&lt;'coll,&nbsp;'db: 'coll&gt; <a class='struct' href='../ejdb/struct.Index.html' title='ejdb::Index'>Index</a>&lt;'coll,&nbsp;'db&gt;</code></span><span class='out-of-band'><div class='ghost'></div><a id='src-53' class='srclink' href='../src/ejdb/src/database/indices.rs.html#77-159' title='goto source code'>[src]</a></span></h3>
<div class='impl-items'><h4 id='method.string' class='method'><code>fn <a href='#method.string' class='fnname'>string</a>(self, case_sensitive: <a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a>) -&gt; Self</code></h4>
<div class='docblock'><p>Specifies that this index must be built over string values of this field.</p>

<p><code>case_sensitive</code> argument determines whether this index must take string case into account,
<code>true</code> for case sensitive matching, <code>false</code> for the opposite.</p>
</div><h4 id='method.number' class='method'><code>fn <a href='#method.number' class='fnname'>number</a>(self) -&gt; Self</code></h4>
<div class='docblock'><p>Specifies that this index must be built over numeric values of this field.</p>
</div><h4 id='method.array' class='method'><code>fn <a href='#method.array' class='fnname'>array</a>(self) -&gt; Self</code></h4>
<div class='docblock'><p>Specifies that this index must be built over array values of this field.</p>
</div><h4 id='method.set' class='method'><code>fn <a href='#method.set' class='fnname'>set</a>(self) -&gt; <a class='type' href='../ejdb/types/type.Result.html' title='ejdb::types::Result'>Result</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>&gt;</code></h4>
<div class='docblock'><p>Creates one or more indices of specified types on this field.</p>

<p>Panics if no types were specified before calling this method.</p>
</div><h4 id='method.drop_all' class='method'><code>fn <a href='#method.drop_all' class='fnname'>drop_all</a>(self) -&gt; <a class='type' href='../ejdb/types/type.Result.html' title='ejdb::types::Result'>Result</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>&gt;</code></h4>
<div class='docblock'><p>Drops all indices on this field.</p>
</div><h4 id='method.drop' class='method'><code>fn <a href='#method.drop' class='fnname'>drop</a>(self) -&gt; <a class='type' href='../ejdb/types/type.Result.html' title='ejdb::types::Result'>Result</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>&gt;</code></h4>
<div class='docblock'><p>Drops indices of the previously specified types on this field.</p>

<p>Panics if no type has been set prior to calling this method.</p>
</div><h4 id='method.rebuild' class='method'><code>fn <a href='#method.rebuild' class='fnname'>rebuild</a>(self) -&gt; <a class='type' href='../ejdb/types/type.Result.html' title='ejdb::types::Result'>Result</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>&gt;</code></h4>
<div class='docblock'><p>Rebuilds indices of the previously specified types on this field from scratch.</p>

<p>Panics if no type has been set prior to calling this method.</p>
</div><h4 id='method.optimize' class='method'><code>fn <a href='#method.optimize' class='fnname'>optimize</a>(self) -&gt; <a class='type' href='../ejdb/types/type.Result.html' title='ejdb::types::Result'>Result</a>&lt;<a class='primitive' href='https://doc.rust-lang.org/nightly/std/primitive.tuple.html'>()</a>&gt;</code></h4>
<div class='docblock'><p>Optimizes indices of the previously specified types on this field.</p>

<p>Panics if no type has been set prior to calling this method.</p>
</div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt>?</dt>
                    <dd>Show this help dialog</dd>
                    <dt>S</dt>
                    <dd>Focus the search field</dd>
                    <dt>&larrb;</dt>
                    <dd>Move up in search results</dd>
                    <dt>&rarrb;</dt>
                    <dd>Move down in search results</dd>
                    <dt>&#9166;</dt>
                    <dd>Go to active search result</dd>
                    <dt>+</dt>
                    <dd>Collapse/expand all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../";
        window.currentCrate = "ejdb";
        window.playgroundUrl = "";
    </script>
    <script src="../jquery.js"></script>
    <script src="../main.js"></script>
    
    <script defer src="../search-index.js"></script>
</body>
</html>